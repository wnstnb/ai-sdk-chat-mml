# Product Requirements Document: Voice Summary Enhancements

**Version:** 1.0
**Date:** 2024-07-29
**Author:** AI Assistant

## 1. Introduction
This document outlines enhancements to the voice summary feature within the application. The primary goals are to refine the sidebar interaction for initiating a voice summary and to expand the options available to the user for utilizing the output of the voice summary, including the ability to create new notes directly from the voice transcription.

## 2. Goals
*   To provide a clear and intuitive way for users to start a new voice summary recording via the sidebar.
*   To offer users more flexibility in how they use the content generated by the voice summary modal, specifically by enabling the creation of new documents.
*   To integrate this new functionality seamlessly with existing voice summary features.

## 3. User Stories
*   **As a user,** I want to click a button on the sidebar to quickly open the voice summary modal so I can record a new voice summary.
*   **As a user,** after recording a voice summary, I want the option to create a new note/document with the transcription of my voice summary, so I don't have to manually copy-paste it into a new file.
*   **As a user,** when using the voice summary modal, I want to clearly understand my options for using the generated content, whether it's adding to an existing document or creating a new one.

## 4. Proposed Changes

### 4.1. Sidebar Voice Summary Button
*   **Current Behavior:** (To be confirmed by development team - user implies current behavior may not be ideal or direct.)
*   **New Behavior:** When the "Voice Summary" button on the sidebar is clicked, it should directly open/invoke the "Voice Summary Modal."
*   **Purpose of Modal:** This modal is primarily for recording a new voice summary.

### 4.2. Voice Summary Modal Enhancements
*   **Context:** The Voice Summary Modal currently allows users to record audio, get a transcription, an outline, and an "AI output." It features an "Add to editor" button that allows inserting this content into a *currently open document*.
*   **New Functionality: "Create New Note with Transcription"**
    *   A new option/button/UI element will be added to the Voice Summary Modal.
    *   This option will allow the user to create an entirely new document (note) using the voice transcription generated from the current recording.
    *   The system should handle the creation of this new document and populate it with the transcription.
*   **Expansion of "Add to editor" (or similar) Functionality:**
    *   The existing options (add audio transcription, add outline, add AI output) to an *open document* will remain.
    *   The modal needs to clearly distinguish between adding content to an *existing open document* versus *creating a new document*. This might involve:
        *   Renaming/reorganizing buttons (e.g., "Add to Current Note" vs. "Create New Note").
        *   A clear selection mechanism if multiple output types (transcription, outline, AI output) can be used to create a new note. For this initial version, "Create New Note" will primarily use the *voice transcription*.

## 5. Functional Requirements

*   **FR1:** The sidebar voice summary button must trigger the display of the Voice Summary Modal.
*   **FR2:** The Voice Summary Modal must allow users to record audio.
*   **FR3:** Upon completion of recording and processing, the modal must display options for utilizing the output.
*   **FR4:** The modal must include an option to "Create New Note" (or similarly named action) using the voice transcription.
    *   **FR4.1:** Selecting this option should initiate the creation of a new, unsaved document within the user's workspace.
    *   **FR4.2:** The content of this new document should be populated with the transcription from the voice summary.
    *   **FR4.3:** The user should be able to title and save this new document as per the application's standard new document creation and saving workflows.
*   **FR5:** The modal must retain the existing functionality to add transcription, outline, or "AI output" to a *currently open and active editor document*.
*   **FR6:** The UI must clearly differentiate between actions that affect the current document (e.g., "Add to Editor") and actions that create a new document (e.g., "Create New Note").
*   **FR7:** If no document is currently open in the editor, the options to "Add to editor" (or equivalent for existing document operations) should be disabled or hidden to prevent errors.

## 6. Non-Functional Requirements
*   **NFR1 (Usability):** The new options should be intuitively placed and clearly labeled. The workflow should be easy for users to understand and follow.
*   **NFR2 (Performance):** The creation of a new note from the modal should be responsive, with minimal delay.
*   **NFR3 (Consistency):** The new functionality should align with existing UI/UX patterns and design language within the application.
*   **NFR4 (Error Handling):** Graceful error handling should be implemented (e.g., if note creation fails for some reason).

## 7. Success Metrics
*   Increase in the usage of the voice summary feature.
*   User adoption rate of the "Create New Note" functionality from the voice summary modal.
*   Reduction in steps/time taken for users to get voice summary content into a new note.
*   Positive user feedback (e.g., via surveys, support tickets) regarding the ease of use and utility of the enhanced voice summary workflow.

## 8. Open Questions / Future Considerations
*   **For "Create New Note":**
    *   Should users be able to choose other outputs (outline, "AI output") for creating a new note, or is transcription the sole content for new notes via this path initially? (Current scope: Transcription only).
    *   What is the desired default naming convention or initial state for a newly created note from a voice summary (e.g., "Voice Note - YYYY-MM-DD HH:MM," or does it open blank allowing the user to title it immediately as part of the save process)?
*   **"AI Output":**
    *   Clarify the exact nature, source, and user value of the "AI output" to ensure its role is well-defined and optimally leveraged in both existing and new workflows.
*   **Workflow:**
    *   After creating a new note, should the user be navigated directly to this new note in the editor? (Assumption: Yes). 